<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <title>Pasarela de Pago</title>
    <link th:href="@{/css/styles-pago.css}" rel="stylesheet"/>
</head>
<body>

	<div class="container">
	    <h1>ğŸ’³ Pasarela de Pago</h1>
	    <p>Pedido para: <strong th:text="${pedido.cliente.nombre}">Cliente</strong></p>
	    <p>DirecciÃ³n: <span th:text="${pedido.calle + ' NÂº ' + pedido.numero + ', Piso ' + pedido.piso}">DirecciÃ³n</span>
	    
		
		<!-- Mostrar mensaje de Ã©xito si existe -->
		   <div th:if="${mensajeExito}" class="success-message">
		       <p th:text="${mensajeExito}"></p>
		   </div>

	    <!-- Formulario para guardar el mÃ©todo de pago -->
	    <form th:action="@{'/cliente/pedido/guardarMetodoPago/' + ${pedido.id}}" method="post">
	        <div class="form-group">
	            <label for="titularTarjeta">Titular de la Tarjeta:</label>
	            <input type="text" id="titularTarjeta" name="titularTarjeta" placeholder="Nombre del titular" required>
	        </div>
	        <div class="form-group">
	            <label for="numeroTarjeta">NÃºmero de la Tarjeta:</label>
	            <input type="number" id="numeroTarjeta" name="numeroTarjeta" placeholder="1234 5678 9012 3456" pattern="\d{16}" maxlength="16" required>
	        </div>
	        <button type="submit" class="btn">ğŸ’¾ Guardar MÃ©todo de Pago</button>
			
	    </form>
		
		<p th:if="${cliente.titularTarjeta != null}">
		    MÃ©todo de pago guardado en uso: <strong th:text="${cliente.titularTarjeta}"></strong> - 
		    <span th:text="${cliente.numeroTarjeta}"></span>
		</p>
		
		     
	    <!-- BotÃ³n para confirmar el pago -->
	    <form th:action="@{'/cliente/pedido/pagar/' + ${pedido.id}}" method="post">
	        <button type="submit" class="btn">âœ… Confirmar Pago</button>
			<a href="/inicio" class="favoritos-btn">ğŸ  Volver a Inicio</a>
	    </form>
	</div>

</body>
</html>
