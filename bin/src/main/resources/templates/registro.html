<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registro</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body style="background-color: #111; color: white;">
    <div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
        <div style="display: flex; border: 1px solid #ccc; border-radius: 10px; overflow: hidden; width: 60%;">
            
            <!-- Columna izquierda -->
            <div style="background-color: #000; padding: 40px; width: 50%;">
                <h1 style="font-size: 2em;">Crea tu cuenta</h1>
                <p>Reg√≠strate en FlashBox para empezar a hacer pedidos, gestionar men√∫s o repartir comida.</p>
            </div>
            
            <!-- Columna derecha -->
            <div style="background-color: #222; padding: 40px; width: 50%;">
                <h2>üìÑ Registro de Usuario</h2>
                <form th:action="@{/registro}" method="post" th:object="${usuario}">
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" th:field="*{nombre}" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Apellidos</label>
                        <input type="text" th:field="*{apellidos}" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Correo electr√≥nico</label>
                        <input type="email" th:field="*{correo}" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Tel√©fono m√≥vil</label>
                        <input type="text" th:field="*{telefono}" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Nombre de usuario</label>
                        <input type="text" th:field="*{username}" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Contrase√±a</label>
                        <input type="password" th:field="*{password}" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Rol</label>
                        <select th:field="*{rol}" class="form-control" name="rol">
                            <option value="CLIENTE">Cliente</option>
                            <option value="RESTAURANTE">Restaurante</option>
                            <option value="REPARTIDOR">Repartidor</option>
                        </select>
                    </div>

                    <!-- NUEVO: tipo de restaurante -->
                    <div class="form-group" id="tipoRestauranteGroup" style="display: none;">
                        <label for="tipoRestaurante">Tipo de restaurante</label>
                        <select name="tipoRestaurante" class="form-control">
                            <option value="Chino">Chino</option>
                            <option value="Japon√©s">Japon√©s</option>
                            <option value="Italiano">Italiano</option>
                            <option value="Americano">Americano</option>
                            <option value="Hamburgueser√≠a">Hamburgueser√≠a</option>
                            <option value="Vegetariano">Vegetariano</option>
                        </select>
                    </div>

                    <br>
                    <div class="form-group">
                        <button type="submit" class="btn btn-light">‚úÖ Registrarse</button>
                    </div>
                </form>

                <p><a th:href="@{/login}" style="color: #3fa9f5;">¬øYa tienes cuenta? Inicia sesi√≥n</a></p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const rolSelect = document.querySelector('select[name="rol"]');
            const tipoRestauranteGroup = document.getElementById('tipoRestauranteGroup');

            function toggleTipoRestaurante() {
                if (rolSelect.value === 'RESTAURANTE') {
                    tipoRestauranteGroup.style.display = 'block';
                } else {
                    tipoRestauranteGroup.style.display = 'none';
                }
            }

            rolSelect.addEventListener('change', toggleTipoRestaurante);
            toggleTipoRestaurante(); // ejecutar al cargar
        });
    </script>
</body>
</html>
